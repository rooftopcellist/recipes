<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/recipes/assets/css/style.css?v=">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Maintainer Guide</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Maintainer Guide" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Maintainer Guide" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Maintainer Guide","url":"/recipes/maintainer.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/recipes/favicon.ico" -->

<!-- end custom head snippets -->

    <style>
      nav.site-nav {
        margin-top: 1rem;
        text-align: left;
      }
      nav.site-nav a {
        color: rgba(255, 255, 255, 0.9);
        text-decoration: none;
        padding: 0.4rem 0.7rem;
        font-size: 0.95rem;
        border-radius: 4px;
        transition: background-color 0.2s ease;
        white-space: nowrap;
      }
      nav.site-nav a:hover {
        background-color: rgba(255, 255, 255, 0.15);
        color: white;
      }
      nav.site-nav span.separator {
        color: rgba(255, 255, 255, 0.4);
        margin: 0 0.2rem;
      }
    </style>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          

          <h1 id="project_title"><a href="/recipes/" style="color: white; text-decoration: none;">Family Recipes</a></h1>

          <nav class="site-nav">
            <a href="/recipes/">Home</a>
            <span class="separator">·</span>
            <a href="/recipes/baking/">Baking</a>
            <span class="separator">·</span>
            <a href="/recipes/brews/">Brews</a>
            <span class="separator">·</span>
            <a href="/recipes/cocktails/">Cocktails</a>
            <span class="separator">·</span>
            <a href="/recipes/desserts/">Desserts</a>
            <span class="separator">·</span>
            <a href="/recipes/dinner/">Dinner</a>
            <span class="separator">·</span>
            <a href="/recipes/meal-prep/">Meal Prep</a>
            <span class="separator">·</span>
            <a href="/recipes/quick-meals/">Quick Meals</a>
            <span class="separator">·</span>
            <a href="/recipes/sauces/">Sauces</a>
            <span class="separator">·</span>
            <a href="/recipes/smoothies/">Smoothies</a>
            <span class="separator">·</span>
            <a href="/recipes/thanksgiving/">Thanksgiving</a>
            <span class="separator">·</span>
            <a href="/recipes/contributing.html">Contribute</a>
          </nav>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1 id="maintainer-guide">Maintainer Guide</h1>

<p>This document covers maintenance tasks for the recipes site.</p>

<h2 id="recipe-automation">Recipe Automation</h2>

<p>The recipe automation script automatically creates pull requests from Google Form submissions.</p>

<h3 id="setup">Setup</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make setup-automation
</code></pre></div></div>

<p>This will:</p>
<ul>
  <li>Create a Python virtual environment in <code class="language-plaintext highlighter-rouge">recipe_automation/venv</code></li>
  <li>Install required dependencies from <code class="language-plaintext highlighter-rouge">requirements.txt</code></li>
</ul>

<h3 id="running-the-automation">Running the Automation</h3>

<p>Before running, ensure you have:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">GITHUB_TOKEN</code> environment variable set</li>
  <li><code class="language-plaintext highlighter-rouge">credentials.json</code> for Google API access in the <code class="language-plaintext highlighter-rouge">recipe_automation</code> directory</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">GITHUB_TOKEN</span><span class="o">=</span>your_github_token
make run-automation
</code></pre></div></div>

<h3 id="what-the-script-does">What the Script Does</h3>

<ol>
  <li>Fetches new recipe submissions from Google Sheets</li>
  <li>Creates properly formatted Markdown files</li>
  <li>Downloads uploaded photos from Google Drive</li>
  <li>Standardizes images to consistent size and format</li>
  <li>Creates a Git branch and commits the new recipe</li>
  <li>Opens a pull request to the main repository</li>
</ol>

<p>See <code class="language-plaintext highlighter-rouge">recipe_automation/README.md</code> for more detailed setup instructions.</p>

<h2 id="image-standardization">Image Standardization</h2>

<p>All recipe images are automatically standardized to ensure consistency across the site. This happens automatically when images are downloaded during recipe automation.</p>

<h3 id="default-settings">Default Settings</h3>

<table>
  <thead>
    <tr>
      <th>Setting</th>
      <th>Default Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Max Width</td>
      <td>800px</td>
    </tr>
    <tr>
      <td>Max Height</td>
      <td>600px</td>
    </tr>
    <tr>
      <td>Format</td>
      <td>JPEG</td>
    </tr>
    <tr>
      <td>Quality</td>
      <td>85%</td>
    </tr>
  </tbody>
</table>

<p>Images smaller than the max dimensions are not upscaled. Aspect ratio is always preserved.</p>

<h3 id="standalone-image-processing">Standalone Image Processing</h3>

<p>You can also standardize images manually using the Make target:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Basic usage - standardizes in place</span>
make standardize-image <span class="nv">IMAGE</span><span class="o">=</span>path/to/image.jpg

<span class="c"># Specify output file</span>
make standardize-image <span class="nv">IMAGE</span><span class="o">=</span>input.jpg <span class="nv">OUTPUT</span><span class="o">=</span>output.jpg

<span class="c"># Custom dimensions</span>
make standardize-image <span class="nv">IMAGE</span><span class="o">=</span>photo.jpg <span class="nv">MAX_WIDTH</span><span class="o">=</span>1024 <span class="nv">MAX_HEIGHT</span><span class="o">=</span>768

<span class="c"># Custom format and quality</span>
make standardize-image <span class="nv">IMAGE</span><span class="o">=</span>photo.png <span class="nv">FORMAT</span><span class="o">=</span>WEBP <span class="nv">QUALITY</span><span class="o">=</span>90
</code></pre></div></div>

<h3 id="available-options">Available Options</h3>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IMAGE</code></td>
      <td>Input image path (required)</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">OUTPUT</code></td>
      <td>Output path (optional, overwrites input if not set)</td>
      <td>Same as input</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MAX_WIDTH</code></td>
      <td>Maximum width in pixels</td>
      <td>800</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MAX_HEIGHT</code></td>
      <td>Maximum height in pixels</td>
      <td>600</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FORMAT</code></td>
      <td>Output format (JPEG, PNG, WEBP)</td>
      <td>JPEG</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">QUALITY</code></td>
      <td>Quality for lossy formats (1-100)</td>
      <td>85</td>
    </tr>
  </tbody>
</table>

<h3 id="programmatic-usage">Programmatic Usage</h3>

<p>The image utilities can also be used directly in Python:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">image_utils</span> <span class="kn">import</span> <span class="n">standardize_image</span><span class="p">,</span> <span class="n">get_image_info</span>

<span class="c1"># Get info about an image
</span><span class="n">info</span> <span class="o">=</span> <span class="nf">get_image_info</span><span class="p">(</span><span class="sh">"</span><span class="s">photo.jpg</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Size: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="sh">'</span><span class="s">width</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="s">x</span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="sh">'</span><span class="s">height</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Standardize an image
</span><span class="nf">standardize_image</span><span class="p">(</span><span class="sh">"</span><span class="s">input.jpg</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">output.jpg</span><span class="sh">"</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
</code></pre></div></div>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>

